
 


<link rel="stylesheet" type="text/css" href="~/lib/msdropdown/css/dd.css" />

<li class="dropdown tasks-menu">

    <!-- Menu Toggle Button -->
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-flag-o"></i>
        <span class="label label-danger">5</span>
    </a>
    <ul class="dropdown-menu">
        <li class="header">Please choose your prefered language</li>
        <li>
            <select id="languages" name="languages" style="width:250px;"></select>
            <!-- Inner menu: contains the tasks -->
            <ul class="menu">


                @foreach (var message in Model)
                    {
                        <li>
                            <!-- Task item -->
                            <a href="#">
                                <!-- Task title and progress text -->
                                <h3>
                                    @message.ShortDesc
                                    <small class="pull-right">@(message.Percentage)%</small>
                                </h3>
                                <!-- The progress bar -->
                                <div class="progress xs">
                                    <!-- Change the css width attribute to simulate progress -->
                                    <div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar" aria-valuenow="@message.Percentage" aria-valuemin="0" aria-valuemax="100">
                                        <span class="sr-only">@(message.Percentage)% Complete</span>
                                    </div>
                                </div>
                            </a>
                        </li>
                    }
                <!-- end task item -->
            </ul>
        </li>
        <li class="footer">
            <a href="#">View all tasks</a>
        </li>
    </ul>
</li>


@section scripts {
    alert('am out there');
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
            asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
            asp-fallback-test="window.jQuery"
            crossorigin="anonymous"
            integrity="sha384-K+ctZQ+LL8q6tP7I94W+qzQsfRV2a+AfHIi9k8z8l9ggpc8X+Ytst4yBo/hH+8Fk">
    </script>
    <script src="~/lib/msdropdown/js/jquery.dd.min.js" type="text/javascript"></script>

    <script type="text/javascript">
        alert('am out here');
        $(document).ready(function () {
            alert('am here');
            //#region preparing select for tblLanguages
            var tblLanguagesSelect = {};
            //put data into array variable
            function handleData(responseData) {

                var expecting = responseData.length;
                //pointer to ddl
                var oDropdown = $("#languages").msDropdown().data("dd");
                console.log(responseData);
                responseData.forEach(function (entry, index) {
                    oDropdown.add({
                        text: entry.englishName, value: entry.name, description: c, image: '/images/flags/16/' + entry.name + '.png', className: '', title: entry.name
                    });
                    tblLanguagesSelect[entry.name] = ent
                });
            }

            //#region Fill in select for foriegn keys
            $.ajax({
                type: "GET",
                url: "/Utils/tblLanguages/gettblLanguagesActiveList",
                //data: { tableID: 5 }, //in case we need ot send any parameter to function
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (result) {
                    handleData(result);

                },
                error: function (response) {
                    alert('error');
                }
            });
            //#endregion

            //#endregion
        });

    </script>
}